---
output:
  html_document:
    code_folding: show
    number_sections: false
    toc: yes
    toc_depth: 3
    toc_float: yes
  pdf_document:
    toc: yes
    toc_depth: '3'
---

```{r setup, include=F}
# Some of common RMD options (and the defaults) are: 
# include=T, eval=T, echo=T, results='hide'/'asis'/'markup',..., collapse=F, warning=T, message=T, error=T, cache=T, fig.width=6, fig.height=4, fig.dim=c(6,4) #inches, fig.align='left'/'center','right', 
knitr::opts_chunk$set(results="markup", warning = F, message = F)
# Can globally set option for number display format.
options(scientific=T, digits = 3) 
# options(scipen=9, digits = 3) 
```

# Question 1: How do the loan features of term, amount, and interest rate influence the likelihood of a loan defaulting or being fully paid? 

This question focuses on assessing risk levels and looking into trends of when the company can expect to see a loan defaulting or being paid off. 

Assumptions:
In terms of loan status, we are only analyzing the "Fully Paid" and "Default" status.

##Data Cleaning & Data Types

For this question, we will be looking at the specific columns of funded amount, loan status, term, and interest rate. These attributes are defined as such:

1. Funded Amount: The total amount of the loan to be paid off.

2. Loan Status: Whether the loan has been fully paid or has been defaulted by the borrower.

3. Term: How long the borrower has to pay off the loan (Either 36 or 60 Months).

4. Interest Rate: The percentage of the loan amount that the lender charges the borrower for borrowing money. 

Based on this data, the funded amount and interest rate are data types that are numerical. On the other hand, loan status and term have been converted to factors and are categorical data types. While loan status logically makes sense to be categorical, term has been converted to a factor since there were only two types of loan terms (36 or 60 months) which can be seen as short term vs. long term when comparing the likelihood of default across loans. Term in this case will be viewed as nonlinear with interest rates and funded amount affecting risk with linearity.   

```{r, echo=TRUE}
#Load Library
library(dplyr)

#Read the CSV
df <- read.csv("cleaned_accepted_2013_to_2018Q4.csv")

#Subset for Specific Columns
f_df<- df[, c("funded_amnt", "loan_status","term","int_rate")]

#Filter for specific loan status
df_filter <- f_df %>%
  filter(loan_status %in% c("Default", "Fully Paid"))

#Convert loan status and term as factors
df_filter$loan_status <- as.factor(df_filter$loan_status)
df_filter$term <- as.factor(df_filter$term)


#Select Relevant Columns
df_final <-df_filter %>%
  select(funded_amnt, term, int_rate, loan_status)

#Check the Dataframe output
str(df_final)



```

```{r, echo=TRUE}
#Summary Stats
summary(df_final)

```

## Descriptive Statistics
